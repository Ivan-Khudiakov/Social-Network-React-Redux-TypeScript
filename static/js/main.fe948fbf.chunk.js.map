{"version":3,"sources":["redux/dialogs-reducer.ts","api/api.ts","reportWebVitals.ts","components/Navbar/Navbar.tsx","utils/object-helpers.ts","redux/users-reducer.ts","assets/images/ava.jpg","common/Paginator/Paginator.tsx","components/Users/Users.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","redux/auth-reducer.ts","components/Header/HeaderConteiner.tsx","components/Login/Login.tsx","redux/app-reducer.ts","hoc/WithSuspense.tsx","App.tsx","redux/redux-store.ts","index.tsx","common/FormsControls/FormsControls.module.css","assets/images/preloader.gif","common/Preloader/Preloader.tsx","components/Navbar/Navbar.module.css","common/FormsControls/FormsControls.tsx","common/Paginator/Paginator.module.css","utils/validators/validators.ts","components/Users/Users.module.css","components/Header/Header.module.css","redux/profile-reducer.ts"],"names":["ADD_MESSAGE","initialState","arrDialogsItems","id","path","name","arrDialogsMessages","text","dialogsReducer","state","action","type","newMessage","Date","getTime","textForNewMessage","addMessage","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","navbar","to","activeClassName","active","href","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","SET_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","portionSize","followSuccess","unfollowSuccess","setCurrentPage","setIsFetching","toggleIsFollowingProgress","isFollowingInProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","Paginator","props","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","filter","p","cn","selectedPage","pageNumber","onPageChanged","Users","style","avatar","src","photos","small","userPhoto","alt","followed","disabled","followingProgress","some","getUsersSuperSelector","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingProgress","UsersContainer","this","Preloader","React","Component","connect","bind","totalCount","Header","header","loginBlock","isAuth","SET_AUTH_USER_DATA","setAuthUserData","getAuthUserData","HeaderContainer","auth","undefined","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Input","placeholder","validate","required","error","formSummaryError","message","messages","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","withSuspense","WrappedComponent","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","SuspendedDialogs","SuspendedProfile","App","initializeApp","render","app","promise","Promise","all","reducers","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","module","exports","TextArea","hasError","meta","touched","formControl","input","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","DELETE_POST","posts","likes","profile","newPost","textForNewPost","addPost","setUserStatus"],"mappings":"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","file":"static/js/main.fe948fbf.chunk.js","sourcesContent":["import {DialogMessagesType, DialogPageType} from \"../components/Dialogs/DialogsContainer\";\r\n\r\nexport const ADD_MESSAGE = \"dialogs/ADD-MESSAGE\"\r\n\r\ntype ActionsType =\r\n    ReturnType<typeof addMessage>\r\n\r\n\r\nexport const initialState = {\r\n    arrDialogsItems: [\r\n        {id: 1, path: '/dialogs/1', name: 'Katya'},\r\n        {id: 2, path: '/dialogs/2', name: 'Tim'},\r\n        {id: 3, path: '/dialogs/3', name: 'Galina'},\r\n        {id: 4, path: '/dialogs/4', name: 'Yuri'},\r\n        {id: 5, path: '/dialogs/5', name: 'Vladimir'},\r\n    ],\r\n    arrDialogsMessages: [\r\n        {id: 1, text: 'Hi!'},\r\n        {id: 2, text: 'How are you?'},\r\n        {id: 3, text: 'Hello!'},\r\n        {id: 4, text: 'Hello!'},\r\n        {id: 5, text: 'Hello!'},\r\n    ],\r\n}\r\n\r\nexport const dialogsReducer = (state: DialogPageType = initialState, action: ActionsType) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            let newMessage: DialogMessagesType = {\r\n                id: new Date().getTime(),\r\n                text: action.textForNewMessage\r\n            }\r\n            return {\r\n                ...state,\r\n                arrDialogsMessages: [...state.arrDialogsMessages, newMessage]\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addMessage = (textForNewMessage: string) => {return {type: ADD_MESSAGE, textForNewMessage} as const\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\"API-KEY\": \"32f3e865-c36d-45f2-8bd3-3a4a5b923e2a\"}\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete(`follow/${userId}`)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: string) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId: string) {\r\n        return instance.get(`profile/status/`+ userId)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status/`, {status: status})\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport s from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <div className={s.navbar}>\r\n            <div>\r\n                <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n            </div>\r\n            <div>\r\n                <NavLink to='/dialogs' activeClassName={s.active}>Dialogs</NavLink>\r\n            </div>\r\n            <div>\r\n                <a href='/'>News</a>\r\n            </div>\r\n            <div>\r\n                <a href='/'>Music</a>\r\n            </div>\r\n            <div>\r\n                <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n            </div>\r\n            <div>\r\n                <a href='/'>Settings</a>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Navbar;\r\n","import {UserType} from \"../redux/users-reducer\";\r\n\r\nexport const updateObjectInArray = (items: Array<any>, itemId: number, objPropName: string, newObjProps: any): Array<UserType> => {\r\n    items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n    return items\r\n}\r\n","import {usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = \"users/FOLLOW\"\r\nconst UNFOLLOW = \"users/UNFOLLOW\"\r\nconst SET_USERS = \"users/SET_USERS\"\r\nconst SET_CURRENT_PAGE = \"users/SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_USERS_COUNT = \"users/SET_TOTAL_USERS_COUNT\"\r\nconst SET_IS_FETCHING = \"users/SET_IS_FETCHING\"\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"users/TOGGLE_IS_FOLLOWING_PROGRESS\"\r\n\r\ntype ActionsType =\r\n    ReturnType<typeof followSuccess> |\r\n    ReturnType<typeof unfollowSuccess> |\r\n    ReturnType<typeof setUsers> |\r\n    ReturnType<typeof setCurrentPage> |\r\n    ReturnType<typeof setTotalUsersCount> |\r\n    ReturnType<typeof setIsFetching> |\r\n    ReturnType<typeof toggleIsFollowingProgress>\r\n\r\nexport type UserType = {\r\n    id: number\r\n    photos: any\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n}\r\n\r\nconst initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 50,\r\n    totalUsersCount:0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [] as Array<number>,\r\n    portionSize: 10\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const usersReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.id, \"id\", {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.id, \"id\", {followed: true})\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        case SET_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFollowingInProgress\r\n                    ? [...state.followingInProgress, action.id]\r\n                    : state.followingInProgress.filter(id => id !== action.id)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const followSuccess = (id: number) => ({type: FOLLOW, id} as const)\r\nexport const unfollowSuccess = (id: number) =>  ({type: UNFOLLOW, id} as const)\r\nexport const setUsers = (users: UserType[]) =>  ({type: SET_USERS, users} as const)\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage} as const)\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({type: SET_TOTAL_USERS_COUNT, totalCount: totalUsersCount} as const)\r\nexport const setIsFetching = (isFetching: boolean) => ({type: SET_IS_FETCHING, isFetching} as const)\r\nexport const toggleIsFollowingProgress = (isFollowingInProgress: boolean, id: number) => ({type:TOGGLE_IS_FOLLOWING_PROGRESS, isFollowingInProgress, id} as const)\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number) => async (dispatch: Dispatch) => {\r\n    dispatch(setIsFetching(true))\r\n    dispatch(setCurrentPage(currentPage))\r\n    let data = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(setIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: Dispatch, userId: number, apiMethod: any, actionCreator: any) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId: number) => async (dispatch: Dispatch) => {\r\n    let apiMethod = usersAPI.follow.bind(usersAPI)\r\n    let actionCreator = followSuccess\r\n    followUnfollowFlow(dispatch, userId, apiMethod, actionCreator)\r\n}\r\n\r\nexport const unfollow = (userId: number) => async (dispatch: Dispatch) => {\r\n    let apiMethod = usersAPI.unfollow.bind(usersAPI)\r\n    let actionCreator = unfollowSuccess\r\n    followUnfollowFlow(dispatch, userId, apiMethod, actionCreator)\r\n}\r\n","export default __webpack_public_path__ + \"static/media/ava.3468e99e.jpg\";","import styles from \"./Paginator.module.css\";\r\nimport React, {useState} from \"react\";\r\nimport cn from 'classnames'\r\n\r\n\r\ntype PaginatorPropsType = {\r\n    onPageChanged: (pageNumber: number) => void\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    portionSize: number\r\n}\r\nexport const Paginator = (props: PaginatorPropsType) => {\r\n    let pagesCount = Math.ceil (props.totalItemsCount / props.pageSize)\r\n    let pages = []\r\n    for (let i=1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionCount = Math.ceil(pagesCount/props.portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * props.portionSize\r\n    return <div className={styles.paginator}>\r\n                {portionNumber > 1 && <button onClick={() => {setPortionNumber(portionNumber-1)}}>PREV</button>}\r\n\r\n                {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map((p) => {\r\n                    return <span className={cn({[styles.selectedPage]: props.currentPage === p}, styles.pageNumber)}\r\n                                 key={p}\r\n                                 onClick={() => {props.onPageChanged(p)}}\r\n                    >{p}</span>\r\n                    })}\r\n\r\n        { portionCount > portionNumber && <button onClick={() => {setPortionNumber(portionNumber + 1)}}>NEXT</button>}\r\n\r\n            </div>\r\n}","import style from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/ava.jpg\";\r\nimport React from \"react\";\r\nimport {UserType} from \"../../redux/users-reducer\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {Paginator} from \"../../common/Paginator/Paginator\";\r\n\r\ntype UsersPropsType = {\r\n    onPageChanged: (pageNumber: number) => void\r\n    follow: (id: number) => void\r\n    unfollow: (id: number) => void\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    users: Array<UserType>\r\n    followingProgress: Array<number>\r\n    portionSize: number\r\n}\r\nexport const Users = (props: UsersPropsType) => {\r\n    return (\r\n        <div className={style.users}>\r\n            <Paginator\r\n                currentPage={props.currentPage}\r\n                onPageChanged={props.onPageChanged}\r\n                pageSize={props.pageSize}\r\n                totalItemsCount={props.totalUsersCount}\r\n                portionSize={props.portionSize}/>\r\n            {\r\n                props.users.map(u =>\r\n                    <div key={u.id}>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={\"/profile/\"+u.id}>\r\n                                <img className={style.avatar} src={u.photos.small !== null ? u.photos.small : userPhoto } alt={\"Avatar\"}/>\r\n                            </NavLink>\r\n\r\n                        </div>\r\n                        <div>\r\n                            {\r\n                                u.followed\r\n                                    ? <button disabled={props.followingProgress.some(id => id === u.id)}\r\n                                              onClick={() => {props.unfollow(u.id)}}>Unfollow</button>\r\n                                    : <button disabled={props.followingProgress.some(id => id === u.id)}\r\n                                              onClick={() => {props.follow(u.id)}}>Follow</button>\r\n                            }\r\n                        </div>\r\n                    </span>\r\n                        <span>\r\n                        <span>\r\n                            <div>{u.name}</div>\r\n                            <div>{u.status}</div>\r\n                        </span>\r\n                        <span>\r\n                            <div>{\"u.location.city\"}</div>\r\n                            <div>{\"u.location.country\"}</div>\r\n                        </span>\r\n                    </span>\r\n                    </div>)\r\n            }\r\n        </div>\r\n    )\r\n}","import {AppRootStateType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state: AppRootStateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersSuperSelector = createSelector(getUsers, (users) => {\r\n    return users.filter(u => true)\r\n})\r\nexport const getPageSize = (state: AppRootStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state: AppRootStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: AppRootStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: AppRootStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingProgress = (state: AppRootStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}","import {connect} from \"react-redux\";\r\nimport {\r\n    follow, getUsers, setCurrentPage,\r\n    toggleIsFollowingProgress, unfollow, UserType\r\n} from \"../../redux/users-reducer\";\r\nimport {AppRootStateType} from \"../../redux/redux-store\";\r\nimport React from \"react\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersSuperSelector\r\n} from \"../../redux/users-selectors\";\r\n\r\nexport class UsersContainer extends React.Component<UserPagePropsType> {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching ? <Preloader/> : null}\r\n                <Users totalUsersCount={this.props.totalUsersCount}\r\n                       pageSize={this.props.pageSize}\r\n                       currentPage={this.props.currentPage}\r\n                       onPageChanged={this.onPageChanged}\r\n                       follow={this.props.follow}\r\n                       unfollow={this.props.unfollow}\r\n                       users={this.props.users}\r\n                       followingProgress={this.props.followingProgress}\r\n                       portionSize={this.props.portionSize}/>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingProgress: Array<number>\r\n    portionSize: number\r\n}\r\ntype MapDispatchToPropsType = {\r\n    follow: (id: number) => void\r\n    unfollow: (id: number) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n}\r\ntype UserPagePropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\n// const mapStateToProps = (state: AppRootStateType): MapStateToPropsType => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingProgress: state.usersPage.followingInProgress\r\n//     }\r\n// }\r\n\r\nconst mapStateToProps = (state: AppRootStateType): MapStateToPropsType => {\r\n    return {\r\n        users: getUsersSuperSelector(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingProgress: getFollowingProgress(state),\r\n        portionSize: state.usersPage.portionSize\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleIsFollowingProgress, getUsers})(UsersContainer)\r\n\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from './Header.module.css'\r\n\r\ntype HeaderPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: () => void\r\n}\r\n\r\nexport const Header = (props: HeaderPropsType) => {\r\n    return (\r\n        <div className={s.header}>\r\n            <img\r\n                src='https://freevector-images.s3.amazonaws.com/uploads/vector/preview/39183/FreeVectorOfTheDay141GlobeLogoConcept.jpg'\r\n                alt='logo'/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logout}>Log Out</button></div> : <NavLink to={'/login'}>login</NavLink>}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n","import {Dispatch} from \"redux\";\r\nimport {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_AUTH_USER_DATA = \"auth/SET_AUTH_USER_DATA\"\r\n\r\ntype ActionsType = ReturnType<typeof setAuthUserData>\r\n\r\nconst initialState = {\r\n    id:  \"0\" as string | undefined,\r\n    email: '' as string | null,\r\n    login: '' as string | null,\r\n    isAuth: false\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const authReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n            return {\r\n                ...state,\r\n                id: action.id,\r\n                email: action.email,\r\n                login: action.login,\r\n                isAuth: action.isAuth\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (id: string | undefined, login: string | null, email: string | null, isAuth: boolean) =>\r\n    ( {type: SET_AUTH_USER_DATA, id, login, email, isAuth})\r\n\r\nexport const getAuthUserData = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data\r\n        dispatch(setAuthUserData(id, login, email, true))\r\n    }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean) => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n    if (response.data.resultCode === 0) {\r\n        getAuthUserData()\r\n    } else {\r\n        let message = response.data.messages.length > 0\r\n            ? response.data.messages[0]\r\n            : \"Some error!\"\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(undefined, null, null, false))\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../redux/redux-store\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\ntype MapStatePropsType = {\r\n    login: string | null\r\n    isAuth: boolean\r\n}\r\ntype MapDispatchPropsType = {\r\n    logout: () => void\r\n}\r\nexport type AuthPropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\n\r\nclass HeaderContainer extends React.Component<AuthPropsType> {\r\n\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\nlet mapStateToProps = (state: AppRootStateType): MapStatePropsType=> ({\r\n    login: state.auth.login,\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default connect (mapStateToProps, {logout})(HeaderContainer)","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppRootStateType} from \"../../redux/redux-store\";\r\nimport style from '../../common/FormsControls/FormsControls.module.css'\r\n\r\nconst LoginForm = (props: any) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Input}\r\n                       name={'email'}\r\n                       placeholder={'Email'}\r\n                       validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input}\r\n                       name={'password'}\r\n                       type={'password'}\r\n                       placeholder={'password'}\r\n                       validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input}\r\n                       name={'rememberMe'}\r\n                       type={'checkbox'}/> remember me\r\n            </div>\r\n            {props.error && <div className={style.formSummaryError}>{props.error}</div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props: any) => {\r\n    const onSubmit = (formData: any) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n    if(props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>LOGIN</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state: AppRootStateType) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport default connect(mapStateToProps, {login})(Login)\r\n","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"app/INITIALIZED_SUCCESS\"\r\n\r\ntype ActionsType = ReturnType<typeof initializedSuccess>\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const appReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = () => (dispatch: any) => {\r\n    let promise = dispatch(getAuthUserData());\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n}\r\n\r\n\r\n","import React from \"react\"\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\n\r\nexport function withSuspense<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n    return (props: WCP) => {\r\n        return <React.Suspense fallback={<Preloader/>} >\r\n            <WrappedComponent {...props} />\r\n        </React.Suspense>\r\n    }\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport {Route} from \"react-router-dom\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderConteiner\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport {AppRootStateType} from \"./redux/redux-store\";\r\nimport {Preloader} from \"./common/Preloader/Preloader\";\r\nimport {withSuspense} from \"./hoc/WithSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() => import  (\"./components/Dialogs/DialogsContainer\"))\r\nconst ProfileContainer = React.lazy(() => import  (\"./components/Profile/ProfileContainer\"))\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    initialized: boolean\r\n}\r\ntype MapDispatchToProps ={\r\n    initializeApp: () => void\r\n}\r\ntype AppPropsType = MapStateToPropsType & MapDispatchToProps\r\n\r\nconst SuspendedDialogs = withSuspense(DialogsContainer)\r\nconst SuspendedProfile = withSuspense(ProfileContainer)\r\n\r\nclass App extends React.Component<AppPropsType>{\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Route path='/dialogs' render={() => <SuspendedDialogs/>}/>\r\n                    <Route path='/profile/:userId?' render={() => <SuspendedProfile/>}/>\r\n                    <Route path='/users' render={() => <UsersContainer/>}/>\r\n                    <Route path='/login' render={() => <Login/>}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst MapStateToProps = (state: AppRootStateType) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nexport default connect (MapStateToProps,{initializeApp})(App)\r\n\r\n\r\n\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {dialogsReducer} from \"./dialogs-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\nconst  reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n})\r\n\r\ndeclare global {\r\n    interface Window {\r\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n    }\r\n}\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport type AppRootStateType = ReturnType<typeof reducers>\r\n\r\n\r\n","import React from 'react';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from \"./redux/redux-store\";\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </BrowserRouter>,\r\n    document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3KGqI\",\"error\":\"FormsControls_error__3FqH6\",\"formSummaryError\":\"FormsControls_formSummaryError__3Vr0I\"};","export default \"data:image/gif;base64,R0lGODlhSAFIAdU4AN3d3f7+/tvb29zc3Onp6fv7++Tk5GZmZuHh4fj4+Pn5+ePj4/r6+urq6mBgYOjo6Pb29u7u7uLi4l5eXoSEhGRkZOXl5e/v72VlZV9fX5mZmZiYmJqamv39/V1dXXh4eICAgJeXl4KCgvz8/Pf395ubm5ycnHV1dYuLi9nZ2WNjY9jY2Hd3d1lZWbW1tXp6epaWlt7e3nZ2duDg4Ht7e+3t7d/f3////////wAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0M0RjU5NjFBMjM2ODExODIyQUM5OUM0MjlFNzg1MCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2MURDQjBCNEFCNDgxMUU0QkE0QTg4Mjk3MUMwQjZFOCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MURDQjBCM0FCNDgxMUU0QkE0QTg4Mjk3MUMwQjZFOCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRG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\"","import preloader from \"../../assets/images/preloader.gif\";\r\nimport React from \"react\";\r\n\r\n\r\nexport const Preloader = () => {\r\n    return (\r\n        <div>\r\n            <img src={preloader} alt={\"Loading...\"}/>\r\n        </div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__27gwQ\",\"active\":\"Navbar_active__1Z_aM\"};","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\"\r\n\r\ntype InputType = {\r\n    name: string\r\n    onBlur?: (event: any) => void\r\n    onChange?: (event: any) => void\r\n    onDragStart: (event: any) => void\r\n    onDrop: (event: any) => void\r\n    onFocus: (event: any) => void\r\n    value: string\r\n}\r\ntype MetaType ={\r\n    active: boolean\r\n    asyncValidating: boolean\r\n    autofilled: boolean\r\n    dirty: boolean\r\n    dispatch: (action: any) => void\r\n    error: string\r\n    form: string\r\n    initial: undefined | string\r\n    invalid: boolean\r\n    pristine: boolean\r\n    submitFailed: boolean\r\n    submitting: boolean\r\n    touched: boolean\r\n    valid: boolean\r\n    visited: boolean\r\n    warning: undefined | string\r\n}\r\ntype TextAreaPropsType = {\r\n    input: InputType\r\n    meta: MetaType\r\n    placeholder: string\r\n}\r\n\r\nexport const TextArea = (props:TextAreaPropsType) => {\r\n    const hasError = props.meta.touched && props.meta.error\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError? styles.error: '')}>\r\n            {hasError && <span>{props.meta.error}</span>}\r\n            <div>\r\n                <textarea {...props.input} {...props}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = (props:TextAreaPropsType) => {\r\n    const hasError = props.meta.touched && props.meta.error\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError? styles.error: '')}>\r\n            {hasError && <span>{props.meta.error}</span>}\r\n            <div>\r\n                <input {...props.input} {...props}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1zO5g\",\"pageNumber\":\"Paginator_pageNumber__3dlj3\",\"selectedPage\":\"Paginator_selectedPage__8Dapj\"};","export const required = (value: any) => {\r\n    if(value) {\r\n        return undefined\r\n    } return 'Field is required!'\r\n}\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n    if(value.length > maxLength) {\r\n        return `Max length ${maxLength} symbols!`\r\n    } return undefined\r\n}\r\nexport const minLengthCreator = (minLength: number) => (value: string) => {\r\n    if(value.length < minLength) {\r\n        return `Min length ${minLength} symbols!`\r\n    } return undefined\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__19fqh\",\"avatar\":\"Users_avatar__2PmKS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3MUTo\",\"loginBlock\":\"Header_loginBlock__32Ls-\"};","import { Dispatch } from \"redux\";\r\nimport {profileAPI} from \"../api/api\";\r\nimport {PostType} from \"../components/Profile/MyPosts/MyPostContainer\";\r\n\r\nconst ADD_POST = \"profile/ADD-POST\"\r\nconst SET_USER_PROFILE = \"profile/SET_USER_PROFILE\"\r\nconst SET_USER_STATUS = \"profile/SET_USER_STATUS\"\r\nconst DELETE_POST = \"profile/DELETE_POST\"\r\n\r\ntype ActionsType =\r\n    ReturnType<typeof addPost> |\r\n    ReturnType<typeof setUserProfile> |\r\n    ReturnType<typeof setUserStatus> |\r\n    ReturnType<typeof deletePost>\r\n\r\ntype ContactsType = {\r\n    facebook: string | null,\r\n    website: string | null,\r\n    vk: string | null,\r\n    twitter: string | null,\r\n    instagram: string | null,\r\n    youtube: string | null,\r\n    github: string | null,\r\n    mainLink: string | null\r\n}\r\ntype PhotosType = {\r\n    small: string | undefined,\r\n    large: string | undefined\r\n}\r\nexport type ProfileType = {\r\n    aboutMe: string,\r\n    contacts: ContactsType,\r\n    lookingForAJob: boolean,\r\n    lookingForAJobDescription: string,\r\n    fullName: string,\r\n    userId: number,\r\n    photos: PhotosType\r\n}\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Hi!\", likes: 15},\r\n        {id: 2, message: \"Hello World!\", likes: 28},\r\n        {id: 3, message: \"How are you?\", likes: 28},\r\n        {id: 4, message: \"Hello!\", likes: 28},\r\n    ] as Array<PostType>,\r\n    profile: null as null | ProfileType,\r\n    status: ''\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const profileReducer = (state: InitialStateType = initialState, action: ActionsType):InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost: PostType = {\r\n                id: new Date().getTime(),\r\n                message: action.textForNewPost,\r\n                likes: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state, posts: state.posts.filter(p => p.id !== action.id)}\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPost = (textForNewPost: string) => {return {type: ADD_POST, textForNewPost} as const}\r\nexport const deletePost = (id: number) => {return {type: DELETE_POST, id} as const}\r\nexport const setUserStatus = (status: string) => {return {type: SET_USER_STATUS, status} as const}\r\nexport const setUserProfile = (profile: null | ProfileType) => {return {type: SET_USER_PROFILE, profile} as const}\r\n\r\n\r\nexport const getProfile = (userId: string) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId: string) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setUserStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n    }\r\n}"],"sourceRoot":""}