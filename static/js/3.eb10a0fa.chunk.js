(this.webpackJsonpsn=this.webpackJsonpsn||[]).push([[3],{292:function(t,e,s){"use strict";s.d(e,"a",(function(){return c}));var n=s(5);function r(t,e){if(null==t)return{};var s,n,r=function(t,e){if(null==t)return{};var s,n,r={},a=Object.keys(t);for(n=0;n<a.length;n++)s=a[n],e.indexOf(s)>=0||(r[s]=t[s]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)s=a[n],e.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}s(0);var a=s(11),i=s(13),o=s(1),u=function(t){return{isAuth:t.auth.isAuth}};function c(t){return Object(i.b)(u)((function(e){var s=e.isAuth,i=r(e,["isAuth"]);return s?Object(o.jsx)(t,Object(n.a)({},i)):Object(o.jsx)(a.a,{to:"/login"})}))}},293:function(t,e,s){t.exports={profile:"Profile_profile__3ClB1"}},294:function(t,e,s){t.exports={avatar:"ProfileInfo_avatar__38IqQ"}},295:function(t,e,s){t.exports={item:"MyPosts_item__1ekqk"}},296:function(t,e,s){t.exports={item:"Post_item__3XT0E"}},298:function(t,e,s){"use strict";s.r(e);var n=s(34),r=s(35),a=s(38),i=s(37),o=s(0),u=s.n(o),c=s(293),j=s.n(c),p=s(294),l=s.n(p),b=s(39),d=s(129),f=s(1),h=function(t){var e=Object(o.useState)(!1),s=Object(d.a)(e,2),n=s[0],r=s[1],a=Object(o.useState)(t.status),i=Object(d.a)(a,2),u=i[0],c=i[1];Object(o.useEffect)((function(){c(t.status)}),[t.status]);return Object(f.jsxs)("div",{children:[!n&&Object(f.jsx)("div",{children:Object(f.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status||"No status"})}),n&&Object(f.jsx)("div",{children:Object(f.jsx)("input",{onChange:function(t){c(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(u)},value:u})})]})},O=function(t){var e;return t.profile?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{className:l.a.avatar,src:null===(e=t.profile)||void 0===e?void 0:e.photos.large,alt:"Avatar"}),Object(f.jsx)(h,{status:t.status,updateStatus:t.updateStatus})]}):Object(f.jsx)(b.a,{})},x=s(96),m=s(295),v=s.n(m),g=s(296),P=s.n(g),S=function(t){return Object(f.jsx)("div",{className:P.a.item,children:t.posts.map((function(t){return Object(f.jsxs)("div",{className:P.a.post,children:[Object(f.jsx)("img",{src:"https://lumpics.ru/wp-content/uploads/2017/11/Programmyi-dlya-sozdaniya-avatarok.png",alt:"avatar"}),Object(f.jsx)("span",{children:t.message}),Object(f.jsx)("div",{children:Object(f.jsxs)("span",{children:[t.likes," like"]})})]},t.id)}))})},y=s(11),_=s(127),k=s(128),A=s(74),w=s(64),N=Object(A.a)(10),I=Object(k.a)({form:"addPostForm"})((function(t){return Object(f.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(f.jsx)(_.a,{component:w.b,name:"textForNewPost",placeholder:"new Post",validate:[A.b,N]}),Object(f.jsx)("button",{children:"Add post"})]})})),F=function(t){return t.isAuth?Object(f.jsxs)("div",{className:v.a.item,children:[Object(f.jsx)("h2",{children:"My posts"}),Object(f.jsx)(I,{onSubmit:function(e){t.addPost(e.textForNewPost)}}),Object(f.jsx)("div",{children:"New Post"}),Object(f.jsx)(S,{posts:t.posts})]}):Object(f.jsx)(y.a,{to:"/login"})},C=s(13),z=Object(C.b)((function(t){return{posts:t.profilePage.posts,isAuth:t.auth.isAuth}}),{addPost:x.a})(F),E=function(t){return Object(f.jsxs)("div",{className:j.a.profile,children:[Object(f.jsx)(O,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(f.jsx)(z,{})]})},M=s(292),q=s(10),B=function(t){Object(a.a)(s,t);var e=Object(i.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return Object(f.jsx)(E,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}]),s}(u.a.Component);e.default=Object(q.d)(Object(C.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getProfile:x.b,getStatus:x.c,updateStatus:x.e}),y.f,M.a)(B)}}]);
//# sourceMappingURL=3.eb10a0fa.chunk.js.map